{"remainingRequest":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\src\\views\\Manager\\ManagerSatistiques.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\src\\views\\Manager\\ManagerSatistiques.vue","mtime":1656750639773},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656358477747},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1656358495050},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656358477747},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1656358496013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBCYXIgfSBmcm9tICd2dWUtY2hhcnRqcy9sZWdhY3knDQppbXBvcnQgeyBDaGFydCBhcyBDaGFydEpTLCBUaXRsZSwgVG9vbHRpcCwgTGVnZW5kLCBCYXJFbGVtZW50LCBDYXRlZ29yeVNjYWxlLCBMaW5lYXJTY2FsZSB9IGZyb20gJ2NoYXJ0LmpzJw0KaW1wb3J0IE9yZGVyU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL09yZGVyU2VydmljZSI7DQoNCkNoYXJ0SlMucmVnaXN0ZXIoVGl0bGUsIFRvb2x0aXAsIExlZ2VuZCwgQmFyRWxlbWVudCwgQ2F0ZWdvcnlTY2FsZSwgTGluZWFyU2NhbGUpDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0JhckNoYXJ0JywNCiAgY29tcG9uZW50czogeyBCYXIgfSwNCiAgcHJvcHM6IHsNCiAgICBjaGFydElkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnYmFyLWNoYXJ0Jw0KICAgIH0sDQogICAgZGF0YXNldElkS2V5OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnbGFiZWwnDQogICAgfSwNCiAgICB3aWR0aDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjANCiAgICB9LA0KICAgIGhlaWdodDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjANCiAgICB9LA0KICAgIGNzc0NsYXNzZXM6IHsNCiAgICAgIGRlZmF1bHQ6ICcnLA0KICAgICAgdHlwZTogU3RyaW5nDQogICAgfSwNCiAgICBzdHlsZXM6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9DQogICAgfSwNCiAgICBwbHVnaW5zOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2hhcnREYXRhOiB7DQogICAgICAgIGxhYmVsczogWyBdLA0KICAgICAgICBkYXRhc2V0czogWyB7IGRhdGE6IFs0MCwgMjAsIDEyXSB9IF0NCiAgICAgIH0sDQogICAgICBjaGFydE9wdGlvbnM6IHsNCiAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZQ0KICAgICAgfSwNCiAgICAgIE9yZGVycyA6IFtdLCAgIA0KICAgICAgdG90YWxPcmRlcnMgOiBudWxsLA0KICAgICAgbnVtYmVyT3JkZXJzIDpudWxsDQoNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZXRyaWV2ZU9yZGVycygpIHsNCiAgICAgICAgT3JkZXJTZXJ2aWNlLmdldEFsbCgpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgIHRoaXMuT3JkZXJzID0gcmVzcG9uc2UuZGF0YSA7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgIHRoaXMubnVtYmVyT3JkZXJzID0gdGhpcy5PcmRlcnMubGVuZ3RoOw0KICAgICAgICAgICAgZm9yICh2YXIgb3JkZXIgb2YgdGhpcy5PcmRlcnMpIA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgdGhpcy50b3RhbE9yZGVycyArPW9yZGVyLnRvdGFsOw0KDQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgcmVzdG8gPSBbXTsNCiAgICAgICAgICAgIHZhciBuYnJjbWQgPSBbXTsNCiAgICAgICAgICAgIHZhciBncm91cGJ5cmVzdG8gPSB7fTsNCiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLk9yZGVycyl7DQogICAgICAgICAgICAgICAgdmFyIGlkX3Jlc3RhdXJhbnQgPSB0aGlzLk9yZGVyc1trZXldLmlkX3Jlc3RhdXJhbnQ7DQogICAgICAgICAgICBpZiAoIWdyb3VwYnlyZXN0b1tpZF9yZXN0YXVyYW50XSl7DQogICAgICAgICAgICAgICAgZ3JvdXBieXJlc3RvW2lkX3Jlc3RhdXJhbnRdID0gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdyb3VwYnlyZXN0b1tpZF9yZXN0YXVyYW50XSArPSAxIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGdyb3VwYnlyZXN0byk7DQogICAgICAgICAgICByZXN0byA9T2JqZWN0LmtleXMoZ3JvdXBieXJlc3RvKTsNCiAgICAgICAgICAgIG5icmNtZCA9IE9iamVjdC52YWx1ZXMoZ3JvdXBieXJlc3RvKTsNCiAgICAgICAgICAgIHRoaXMuY2hhcnREYXRhLmxhYmVscyA9IHJlc3RvOw0KICAgICAgICAgICAgdGhpcy5jaGFydERhdGEuZGF0YXNldHNbMF0uZGF0YSA9IG5icmNtZDsNCg0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50b3RhbE9yZGVycyk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KICAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnJldHJpZXZlT3JkZXJzKCk7DQoNCiAgfQ0KfQ0K"},{"version":3,"sources":["ManagerSatistiques.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ManagerSatistiques.vue","sourceRoot":"src/views/Manager","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <parallax class=\"section page-header header-filter\" :style=\"headerStyle\">\r\n      <div class=\"container\">\r\n        <div class=\"md-layout\">\r\n          <div\r\n            class=\"md-layout-item md-size-50 md-small-size-70 md-xsmall-size-100\"\r\n          >\r\n            <h1 class=\"title\">Manager</h1>\r\n            <h4 style=\"font-weight: bolder;color:white;\r\n        text-shadow: 5px 5px 5px black;\">\r\n              Bienvenue sur votre espace Manager\r\n            </h4>\r\n            <br />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </parallax>\r\n    <div class=\"main main-raised\">\r\n      \r\n      \r\n      <div class=\"section section-contacts\">\r\n        <div class=\"container\">\r\n            <div class=\"md-layout\">\r\n      <div class=\"md-layout-item md-size-200 mx-auto md-small-size-50\">\r\n            <center><h1>Statistiques</h1></center>\r\n                    <div class=\"container mt-2\" >\r\n             <center><h3> Nombre de commande : {{numberOrders}} | Chiffre d'affaire :  {{totalOrders}} DA</h3></center>\r\n             <center>nombre de commande par restaurant</center>\r\n<Bar\r\n    :chart-options=\"chartOptions\"\r\n    :chart-data=\"chartData\"\r\n    :chart-id=\"chartId\"\r\n    :dataset-id-key=\"datasetIdKey\"\r\n    :plugins=\"plugins\"\r\n    :css-classes=\"cssClasses\"\r\n    :styles=\"styles\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n  />\r\n            </div>\r\n        </div>\r\n      </div>\r\n          </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n</template>\r\n\r\n<script>\r\nimport { Bar } from 'vue-chartjs/legacy'\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js'\r\nimport OrderService from \"@/services/OrderService\";\r\n\r\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale)\r\n\r\nexport default {\r\n  name: 'BarChart',\r\n  components: { Bar },\r\n  props: {\r\n    chartId: {\r\n      type: String,\r\n      default: 'bar-chart'\r\n    },\r\n    datasetIdKey: {\r\n      type: String,\r\n      default: 'label'\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    cssClasses: {\r\n      default: '',\r\n      type: String\r\n    },\r\n    styles: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    plugins: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: {\r\n        labels: [ ],\r\n        datasets: [ { data: [40, 20, 12] } ]\r\n      },\r\n      chartOptions: {\r\n        responsive: true\r\n      },\r\n      Orders : [],   \r\n      totalOrders : null,\r\n      numberOrders :null\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    retrieveOrders() {\r\n        OrderService.getAll()\r\n        .then(response => {\r\n            this.Orders = response.data ;\r\n            console.log(response.data);\r\n            this.numberOrders = this.Orders.length;\r\n            for (var order of this.Orders) \r\n            {\r\n            this.totalOrders +=order.total;\r\n\r\n            }\r\n            var resto = [];\r\n            var nbrcmd = [];\r\n            var groupbyresto = {};\r\n            for (var key in this.Orders){\r\n                var id_restaurant = this.Orders[key].id_restaurant;\r\n            if (!groupbyresto[id_restaurant]){\r\n                groupbyresto[id_restaurant] = 0;\r\n            }\r\n            groupbyresto[id_restaurant] += 1 ;\r\n            }\r\n            console.log(groupbyresto);\r\n            resto =Object.keys(groupbyresto);\r\n            nbrcmd = Object.values(groupbyresto);\r\n            this.chartData.labels = resto;\r\n            this.chartData.datasets[0].data = nbrcmd;\r\n\r\n            console.log(this.totalOrders);\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        });\r\n    },\r\n  },\r\n   mounted() {\r\n    this.retrieveOrders();\r\n\r\n  }\r\n}\r\n</script>"]}]}