{"remainingRequest":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\src\\views\\Livreur\\LivreurRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\src\\views\\Livreur\\LivreurRegister.vue","mtime":1656670745481},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656671404342},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1656671396305},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656671404342},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1656671396869}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQppbXBvcnQgc3FsQXBpIGZyb20gJ0Avc2VydmljZXMvc3FsQXBpLmpzJw0KDQppbXBvcnQgeyBMb2dpbkNhcmQgfSBmcm9tICJAL2NvbXBvbmVudHMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBMb2dpbkNhcmQNCiAgfSwNCiAgYm9keUNsYXNzOiAibG9naW4tcGFnZSIsDQogICBkYXRhKCl7DQogICAgcmV0dXJuew0KICAgICAgIA0KICAgICAgICB1c2VyOnsgDQogICAgICAgICB1c2VySWQ6MCwNCiAgICAgICAgIHVzZXJuYW1lOiIiLA0KICAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICAgcGFzc3dvcmQ6IiIsDQogICAgICAgICByZXBlYXRQYXNzd29yZDoiIiwNCiAgICAgICAgIFBob25lOiIiLA0KICAgICAgICAgQWRkcmVzczoiIiwNCiAgICAgICAgIGNyZWRpdENhcmQ6IiIsDQogICAgICAgICB1c2VyX3R5cGU6IkxpdnJldXIiDQogICAgICAgICB9LA0KICAgIH0NCiB9LA0KICBwcm9wczogew0KICAgIGhlYWRlcjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogcmVxdWlyZSgiQC9hc3NldHMvaW1nL2JnaG9tZS5qcGciKQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBoZWFkZXJTdHlsZSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3RoaXMuaGVhZGVyfSlgDQogICAgICB9Ow0KICAgIH0NCiAgfSwNCiAgbWV0aG9kcyA6IHsgICAgDQogICAgICAgIGJhY2soKXsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZSA6ICdob21lJ30pOw0KICAgICAgICB9LCAgICAgICAgDQogICAgICAgIGNoZWNrVmFsaWRhdGlvbigpew0KICAgICAgICAgICAgaWYoIXRoaXMudXNlci51c2VybmFtZSl7DQogICAgICAgICAgICAgICAgYWxlcnQoIlZldWlsbGV6IGVudHJlciB2b3RyZSBub20gISIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIGlmKCF0aGlzLnVzZXIuZW1haWwpeyAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgYWxlcnQoIlZldWlsbGV6IGVudHJlciB2b3RyZSBhZHJlc3NlIG1haWwgISIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICBpZighL15cdysoW1wuLV0/XHcrKSpAXHcrKFtcLi1dP1x3KykqKFwuXHd7MiwzfSkrJC8udGVzdCh0aGlzLnVzZXIuZW1haWwpKXsNCiAgICAgICAgICAgICAgICBhbGVydCgiVmV1aWxsZXogZW50ZXIgdW5lIEFkcmVzcyBtYWlsIHZhbGlkZSAhIik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBpZighdGhpcy51c2VyLnBhc3N3b3JkKXsgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGFsZXJ0KCJQYXNzd29yZCByZXF1aXJlZCEiKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICAgIGlmKHRoaXMudXNlci5wYXNzd29yZCAhPSB0aGlzLnVzZXIucmVwZWF0UGFzc3dvcmQpeyAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgYWxlcnQoIkxlcyBtb3RzIGRlIHBhc3NlcyBuZSBjb3JyZXNwb25kZW50IHBhcyAgISIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICBzaWdudXAoKXsNCiAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tWYWxpZGF0aW9uKCkpew0KICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QodGhpcy4kaG9zdG5hbWUgKyIvYXBpL3VzZXIvcmVnaXN0cmF0aW9uIiwgdGhpcy51c2VyKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51c2VySWQgPiAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ImxvZ2luIn0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJWb3VzIMOqdGVzIG1haW50ZW5hbnQgaW5zY3JpdChlKSEiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsNCg0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJFcnJvciA6IFNvbWV0aGluZyB3ZW50IHdyb25nLiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3I9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyb3IucmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICB9DQogIH07DQo="},{"version":3,"sources":["LivreurRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LivreurRegister.vue","sourceRoot":"src/views/Livreur","sourcesContent":["<template>\r\n  <div class=\"wrapper\" >\r\n    <div class=\"section page-header header-filter\" :style=\"headerStyle\">\r\n      <div class=\"container\">\r\n        <div class=\"md-layout\">\r\n          <div \r\n            class=\"md-layout-item md-size-33 md-small-size-66 md-xsmall-size-100 md-medium-size-40 mx-auto\"\r\n          >\r\n            <login-card header-color=\"black\">\r\n              <h4 slot=\"title\" class=\"card-title\">Inscrivez-vous pour devenir un livreur</h4>\r\n              \r\n              <p slot=\"description\" class=\"description\">Ou</p>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>face</md-icon>\r\n                <label>Nom & Prénom</label>\r\n                <md-input v-model=\"user.username\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>email</md-icon>\r\n                <label>E-mail</label>\r\n                <md-input v-model=\"user.email\" type=\"email\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>lock_outline</md-icon>\r\n                <label>Mot de passe</label>\r\n                <md-input v-model=\"user.password\" type=\"password\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>lock_outline</md-icon>\r\n                <label>Confirmer votre mot de passe</label>\r\n                <md-input v-model=\"user.repeatPassword\" type=\"password\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>phone</md-icon>\r\n                <label>Numéro de téléphone</label>\r\n                <md-input v-model=\"user.Phone\" type=\"tel\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>credit_card</md-icon>\r\n                <label>Carte de crédit</label>\r\n                <md-input v-model=\"user.creditCard\" type=\"tel\" inputmode=\"numeric\" pattern=\"[0-9\\s]{13,19}\" \r\n                autocomplete=\"cc-number\" maxlength=\"19\" placeholder=\"xxxx xxxx xxxx xxxx\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>house</md-icon>\r\n                <label>Adresse</label>\r\n                <md-input v-model=\"user.Address\" type=\"adress\"></md-input>\r\n              </md-field>\r\n              \r\n              <md-button v-on:click=\"signup\" slot=\"footer\" class=\"md-success\">\r\n                S'inscrire\r\n              </md-button>\r\n            </login-card>\r\n            <p class=\"text-center\" style=\"padding-top: 20px;\">\r\n            <router-link id=\"login\" to=\"/login\" style=\"font-weight: 900;color:lightgray;\">Vous êtes déjà un Livreur ? Se Connecter</router-link></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst axios = require('axios');\r\nimport sqlApi from '@/services/sqlApi.js'\r\n\r\nimport { LoginCard } from \"@/components\";\r\n\r\nexport default {\r\n  components: {\r\n    LoginCard\r\n  },\r\n  bodyClass: \"login-page\",\r\n   data(){\r\n    return{\r\n       \r\n        user:{ \r\n         userId:0,\r\n         username:\"\",\r\n         email: \"\",\r\n         password:\"\",\r\n         repeatPassword:\"\",\r\n         Phone:\"\",\r\n         Address:\"\",\r\n         creditCard:\"\",\r\n         user_type:\"Livreur\"\r\n         },\r\n    }\r\n },\r\n  props: {\r\n    header: {\r\n      type: String,\r\n      default: require(\"@/assets/img/bghome.jpg\")\r\n    }\r\n  },\r\n  computed: {\r\n    headerStyle() {\r\n      return {\r\n        backgroundImage: `url(${this.header})`\r\n      };\r\n    }\r\n  },\r\n  methods : {    \r\n        back(){\r\n            this.$router.push({ name : 'home'});\r\n        },        \r\n        checkValidation(){\r\n            if(!this.user.username){\r\n                alert(\"Veuillez entrer votre nom !\");\r\n                return;\r\n            }\r\n               if(!this.user.email){                    \r\n                alert(\"Veuillez entrer votre adresse mail !\");\r\n                return;\r\n            }\r\n             if(!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.user.email)){\r\n                alert(\"Veuillez enter une Adress mail valide !\");\r\n                return;\r\n            }\r\n              if(!this.user.password){                    \r\n                alert(\"Password required!\");\r\n                return;\r\n            }\r\n              if(this.user.password != this.user.repeatPassword){                    \r\n                alert(\"Les mots de passes ne correspondent pas  !\");\r\n                return;\r\n            }\r\n            return true;\r\n        },\r\n        signup(){\r\n            if(this.checkValidation()){\r\n                axios.post(this.$hostname +\"/api/user/registration\", this.user)\r\n                    .then(response => {\r\n                        if (response.data.userId > 0){\r\n                          this.$router.push({name:\"login\"});\r\n                            alert(\"Vous êtes maintenant inscrit(e)!\")\r\n                            \r\n                            .then(() => {\r\n\r\n                    \r\n                            });\r\n                        }else{\r\n                            alert(\"Error : Something went wrong.\");\r\n                        }\r\n                    })\r\n                    .catch(error=>{\r\n                        if (error.response){\r\n                            alert(error.response.data);\r\n                        }\r\n                    });\r\n            }\r\n        },\r\n  }\r\n  };\r\n</script>\r\n\r\n<style lang=\"css\">\r\n#login{\r\n    color:white;\r\n}\r\n</style>\r\n"]}]}