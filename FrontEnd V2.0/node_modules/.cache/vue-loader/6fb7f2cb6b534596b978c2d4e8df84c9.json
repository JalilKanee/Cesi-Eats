{"remainingRequest":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\src\\views\\Login.vue","mtime":1656507429979},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656507405906},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1656507405439},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656507405906},{"path":"C:\\Users\\DELL\\Desktop\\Cesi-Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1656507427200}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQppbXBvcnQgeyBMb2dpbkNhcmQgfSBmcm9tICJAL2NvbXBvbmVudHMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBMb2dpbkNhcmQNCiAgfSwNCiAgYm9keUNsYXNzOiAibG9naW4tcGFnZSIsDQoNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIHVzZXI6eyANCiAgICAgICAgICAgICAgICBlbWFpbDoiIiwNCiAgICAgICAgICAgICAgICBwYXNzd29yZDoiIiwNCiAgICAgICAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiJDb25uZWN0ZWQiLA0KICAgICAgICAgICAgICAgIHVzZXJfdHlwZToiIg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBwcm9wczogew0KICAgIGhlYWRlcjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogcmVxdWlyZSgiQC9hc3NldHMvaW1nL2JnaG9tZS5qcGciKQ0KICAgIH0NCiAgfSwNCg0KIGNvbXB1dGVkOiB7DQogICAgYnV0dG9uTGFiZWwoKSB7DQogICAgICByZXR1cm4gKHRoaXMuc2hvd1Bhc3N3b3JkKSA/ICJIaWRlIiA6ICJTaG93IjsNCiAgICB9LA0KICAgIGhlYWRlclN0eWxlKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGhpcy5oZWFkZXJ9KWANCiAgICAgIH07DQogICAgfQ0KICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICB0b2dnbGVTaG93KCkgew0KICAgICAgdGhpcy5zaG93UGFzc3dvcmQgPSAhdGhpcy5zaG93UGFzc3dvcmQ7DQogICAgfSwNCiAgICAgICAgc2lnbnVwKCl7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdyZWdpc3Rlcid9KTsNCiAgICAgICAgfSwNCiAgICAgICAgbG9naW4oKXsNCiAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tWYWxpZGF0aW9uKCkpew0KICAgICAgICAgICAgICAgIGF4aW9zLmdldCh0aGlzLiRob3N0bmFtZSArIi9hcGkvdXNlci9zaWduaW4vIit0aGlzLnVzZXIuZW1haWwrIi8iK3RoaXMudXNlci5wYXNzd29yZCkNCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ew0KICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLnVzZXJJZCA+IDApew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS50b2tlbik7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLnRva2VuKSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnRva2VuID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEudXNlcl90eXBlID09PSAiQ2xpZW50Iil7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiJjbGllbnQifSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJDb25uZWN0ZXIgZW4gdGFudCBxdWUgQ2xpZW50IikNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEudXNlcl90eXBlID09PSAiUmVzdG9yYXRldXIiKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6Im1lbnUifSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgiQ29ubmVjdGVyIGVuIHRhbnQgcXVlIFJlc3RvcmF0ZXVyIikNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLnVzZXJfdHlwZSA9PT0gIkxpdnJldXIiKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ImxpdnJldXIifSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgiQ29ubmVjdGVyIGVuIHRhbnQgcXVlIExpdnJldXIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnJvci5yZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNoZWNrVmFsaWRhdGlvbigpew0KICAgICAgICAgICAgaWYoIXRoaXMudXNlci5lbWFpbCl7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5lbWFpbC5mb2N1cygpOw0KICAgICAgICAgICAgICAgIGFsZXJ0KCJFbnRlciB2b3RyZSBlbWFpbCIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKCF0aGlzLnVzZXIucGFzc3dvcmQpew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucHN3LmZvY3VzKCk7DQogICAgICAgICAgICAgICAgYWxlcnQoIkVudGVyIHZvdHJlIG1vdCBkZSBwYXNzZSIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICBUb2dnbGUoKSB7DQogICAgICAgICAgICB2YXIgdGVtcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0eXBlcGFzcyIpOw0KICAgICAgICAgICAgaWYgKHRlbXAudHlwZSA9PT0gInBhc3N3b3JkIikgew0KICAgICAgICAgICAgICAgIHRlbXAudHlwZSA9ICJ0ZXh0IjsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9nZ2xlUGFzc3dvcmQiKS5jbGFzc05hbWUgPSAiYmkgYmktZXllLXNsYXNoIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHRlbXAudHlwZSA9ICJwYXNzd29yZCI7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvZ2dsZVBhc3N3b3JkIikuY2xhc3NOYW1lID0gImJpIGJpLWV5ZSI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"section page-header header-filter\" :style=\"headerStyle\">\r\n      <div class=\"container\">\r\n        <div class=\"md-layout\">\r\n          <div\r\n            class=\"md-layout-item md-size-33 md-small-size-66 md-xsmall-size-100 md-medium-size-40 mx-auto\"\r\n          >\r\n            <login-card header-color=\"black\">\r\n              <h4 slot=\"title\" class=\"card-title\">Se connecter</h4>\r\n              <md-button\r\n                slot=\"buttons\"\r\n                href=\"javascript:void(0)\"\r\n                class=\"md-just-icon md-simple md-white\"\r\n              >\r\n                <i class=\"fab fa-facebook-square\"></i>\r\n              </md-button>\r\n              <md-button\r\n                slot=\"buttons\"\r\n                href=\"javascript:void(0)\"\r\n                class=\"md-just-icon md-simple md-white\"\r\n              >\r\n                <i class=\"fab fa-twitter\"></i>\r\n              </md-button>\r\n              <md-button\r\n                slot=\"buttons\"\r\n                href=\"javascript:void(0)\"\r\n                class=\"md-just-icon md-simple md-white\"\r\n              >\r\n                <i class=\"fab fa-google-plus-g\"></i>\r\n              </md-button>\r\n              <p slot=\"description\" class=\"description\">Ou</p>\r\n              <md-field aria-placeholder=\"gg\" class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>email</md-icon>\r\n                <label>E-mail</label>\r\n                <md-input v-model=\"user.email\" type=\"email\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>lock_outline</md-icon>\r\n                <label>Mot de passe</label>\r\n                <md-input v-model=\"user.password\" type=\"password\"></md-input>\r\n              </md-field>\r\n              <md-button v-on:click=\"login\" slot=\"footer\" class=\"md-success\">\r\n                Se connecter\r\n              </md-button>\r\n            </login-card>\r\n            <p class=\"text-center\" style=\"padding-top: 20px;\">\r\n            <router-link id=\"login\" to=\"/login\">Vous avez déjà un compte ? Se Connecter</router-link></p>\r\n            <p class=\"text-center\" style=\"padding-top: 20px;\">\r\n            <router-link id=\"login\" to=\"/forget-password\">Mot de passe oublié ?</router-link></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nconst axios = require('axios');\r\nimport { LoginCard } from \"@/components\";\r\n\r\nexport default {\r\n  components: {\r\n    LoginCard\r\n  },\r\n  bodyClass: \"login-page\",\r\n\r\n    data(){\r\n        return{\r\n            user:{ \r\n                email:\"\",\r\n                password:\"\",\r\n                connectionStatus:\"Connected\",\r\n                user_type:\"\"\r\n                \r\n            }\r\n        }\r\n    },\r\n    props: {\r\n    header: {\r\n      type: String,\r\n      default: require(\"@/assets/img/bghome.jpg\")\r\n    }\r\n  },\r\n\r\n computed: {\r\n    buttonLabel() {\r\n      return (this.showPassword) ? \"Hide\" : \"Show\";\r\n    },\r\n    headerStyle() {\r\n      return {\r\n        backgroundImage: `url(${this.header})`\r\n      };\r\n    }\r\n  },\r\n    methods:{\r\n        toggleShow() {\r\n      this.showPassword = !this.showPassword;\r\n    },\r\n        signup(){\r\n            this.$router.push({ name: 'register'});\r\n        },\r\n        login(){\r\n            if(this.checkValidation()){\r\n                axios.get(this.$hostname +\"/api/user/signin/\"+this.user.email+\"/\"+this.user.password)\r\n                .then(response=>{\r\n                    if(response.data.userId > 0){\r\n                        console.log(response.data.token);\r\n                        localStorage.setItem('token', JSON.stringify(response.data.token));\r\n                        response.data.token = \"\";\r\n                        localStorage.setItem('user', JSON.stringify(response.data));\r\n                        if(response.data.user_type === \"Client\"){\r\n                             this.$router.push({name:\"client\"});\r\n                             alert(\"Connecter en tant que Client\")\r\n                        }\r\n                        if(response.data.user_type === \"Restorateur\"){\r\n                          this.$router.push({name:\"menu\"});\r\n                           alert(\"Connecter en tant que Restorateur\")\r\n                        }\r\n                         if(response.data.user_type === \"Livreur\"){\r\n                          this.$router.push({name:\"livreur\"});\r\n                           alert(\"Connecter en tant que Livreur\")\r\n                        }\r\n                       \r\n                        \r\n                    }\r\n                })\r\n               \r\n                .catch(error => {\r\n                    if(error.response) {\r\n                        alert(error.response.data);\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        checkValidation(){\r\n            if(!this.user.email){\r\n                this.$refs.email.focus();\r\n                alert(\"Enter votre email\");\r\n                return;\r\n            }\r\n            if(!this.user.password){\r\n                this.$refs.psw.focus();\r\n                alert(\"Enter votre mot de passe\");\r\n                return;\r\n            }\r\n            return true;\r\n        },\r\n        Toggle() {\r\n            var temp = document.getElementById(\"typepass\");\r\n            if (temp.type === \"password\") {\r\n                temp.type = \"text\";\r\n                document.getElementById(\"togglePassword\").className = \"bi bi-eye-slash\";\r\n            }\r\n            else {\r\n                temp.type = \"password\";\r\n                document.getElementById(\"togglePassword\").className = \"bi bi-eye\";\r\n            }\r\n        }\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<style lang=\"css\"></style>\r\n"]}]}