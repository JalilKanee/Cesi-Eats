{"remainingRequest":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\src\\views\\Restaurateur\\RestaurateurRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\src\\views\\Restaurateur\\RestaurateurRegister.vue","mtime":1656618038386},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\babel.config.js","mtime":1607335908000},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656358477747},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1656358495050},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656358477747},{"path":"C:\\Users\\Jalil\\Desktop\\Cesi Eats\\FrontEnd V2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1656358496013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IExvZ2luQ2FyZCB9IGZyb20gIkAvY29tcG9uZW50cyI7Cgp2YXIgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwoKaW1wb3J0IHNxbEFwaSBmcm9tICdAL3NlcnZpY2VzL3NxbEFwaS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMb2dpbkNhcmQ6IExvZ2luQ2FyZAogIH0sCiAgYm9keUNsYXNzOiAibG9naW4tcGFnZSIsCiAgLy8gUHJvcGVydGllcyByZXR1cm5lZCBmcm9tIGRhdGEoKSBiZWNvbWVzIHJlYWN0aXZlIHN0YXRlCiAgLy8gYW5kIHdpbGwgYmUgZXhwb3NlZCBvbiBgdGhpc2AuCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICB1c2VySWQ6IDAsCiAgICAgICAgdXNlck5hbWU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcmVwZWF0UGFzc3dvcmQ6ICIiLAogICAgICAgIFBob25lOiAiIiwKICAgICAgICBBZGRyZXNzOiAiIiwKICAgICAgICBjcmVkaXRDYXJkOiAiIiwKICAgICAgICB1c2VyX3R5cGU6ICJSZXN0b3JhdGV1ciIKICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBoZWFkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvYmdob21lLmpwZyIpCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaGVhZGVyU3R5bGU6IGZ1bmN0aW9uIGhlYWRlclN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIGJhY2tncm91bmRJbWFnZTogInVybCgiLmNvbmNhdCh0aGlzLmhlYWRlciwgIikiKQogICAgICB9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYmFjazogZnVuY3Rpb24gYmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdob21lJwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja1ZhbGlkYXRpb246IGZ1bmN0aW9uIGNoZWNrVmFsaWRhdGlvbigpIHsKICAgICAgaWYgKCF0aGlzLnVzZXIudXNlck5hbWUpIHsKICAgICAgICBhbGVydCgiVmV1aWxsZXogZW50cmVyIHZvdHJlIG5vbSAhIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMudXNlci5lbWFpbCkgewogICAgICAgIGFsZXJ0KCJWZXVpbGxleiBlbnRyZXIgdm90cmUgYWRyZXNzZSBtYWlsICEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghL15cdysoW1wuLV0/XHcrKSpAXHcrKFtcLi1dP1x3KykqKFwuXHd7MiwzfSkrJC8udGVzdCh0aGlzLnVzZXIuZW1haWwpKSB7CiAgICAgICAgYWxlcnQoIlZldWlsbGV6IGVudGVyIHVuZSBBZHJlc3MgbWFpbCB2YWxpZGUgISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnVzZXIucGFzc3dvcmQpIHsKICAgICAgICBhbGVydCgiUGFzc3dvcmQgcmVxdWlyZWQhIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy51c2VyLnBhc3N3b3JkICE9IHRoaXMudXNlci5yZXBlYXRQYXNzd29yZCkgewogICAgICAgIGFsZXJ0KCJMZXMgbW90cyBkZSBwYXNzZXMgbmUgY29ycmVzcG9uZGVudCBwYXMgICEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHNpZ251cDogZnVuY3Rpb24gc2lnbnVwKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2hlY2tWYWxpZGF0aW9uKCkpIHsKICAgICAgICBheGlvcy5wb3N0KHRoaXMuJGhvc3RuYW1lICsgIi9hcGkvdXNlci9yZWdpc3RyYXRpb24iLCB0aGlzLnVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51c2VySWQgPiAwKSB7CiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogImxvZ2luIgogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGFsZXJ0KCJWb3VzIMOqdGVzIG1haW50ZW5hbnQgaW5zY3JpdChlKSEiKS50aGVuKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCJFcnJvciA6IFNvbWV0aGluZyB3ZW50IHdyb25nLiIpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgIGFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgVG9nZ2xlOiBmdW5jdGlvbiBUb2dnbGUoKSB7CiAgICAgIHZhciB0ZW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInR5cGVwYXNzIik7CiAgICAgIHZhciB0ZW1wMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0eXBlcGFzczIiKTsKCiAgICAgIGlmICh0ZW1wLnR5cGUgPT09ICJwYXNzd29yZCIgJiYgdGVtcDIudHlwZSA9PT0gInBhc3N3b3JkIikgewogICAgICAgIHRlbXAudHlwZSA9ICJ0ZXh0IjsKICAgICAgICB0ZW1wMi50eXBlID0gInRleHQiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2dnbGVQYXNzd29yZCIpLmNsYXNzTmFtZSA9ICJiaSBiaS1leWUtc2xhc2giOwogICAgICB9IGVsc2UgewogICAgICAgIHRlbXAudHlwZSA9ICJwYXNzd29yZCI7CiAgICAgICAgdGVtcDIudHlwZSA9ICJwYXNzd29yZCI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvZ2dsZVBhc3N3b3JkIikuY2xhc3NOYW1lID0gImJpIGJpLWV5ZSI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;;AACA;;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC,uBAJA;EAKA;EACA;EACAC,IAPA,kBAOA;IACA;MAEAC;QACAC,SADA;QAEAC,YAFA;QAGAC,SAHA;QAIAC,YAJA;QAKAC,kBALA;QAMAC,SANA;QAOAC,WAPA;QAQAC,cARA;QASAC;MATA;IAFA;EAcA,CAtBA;EAuBAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CAvBA;EA6BAC;IACAC,WADA,yBACA;MACA;QACAC;MADA;IAGA;EALA,CA7BA;EAoCAC;IACAC,IADA,kBACA;MACA;QAAAC;MAAA;IACA,CAHA;IAIAC,eAJA,6BAIA;MACA;QACAC;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;IACA,CA1BA;IA2BAC,MA3BA,oBA2BA;MAAA;;MACA;QACAC,iEACAC,IADA,CACA;UACA;YACA;cAAAL;YAAA;;YACAE,0CACAG,IADA,CACA,aAGA,CAJA;UAKA,CAPA,MAOA;YACAH;UACA;QACA,CAZA,EAaAI,KAbA,CAaA;UACA;YACAJ;UACA;QACA,CAjBA;MAkBA;IACA,CAhDA;IAiDAK,MAjDA,oBAiDA;MACA;MACA;;MACA;QACAC;QACAC;QACAC;MACA,CAJA,MAKA;QACAF;QACAC;QACAC;MACA;IACA;EA9DA;AApCA","names":["components","LoginCard","bodyClass","data","user","userId","userName","email","password","repeatPassword","Phone","Address","creditCard","user_type","props","header","type","default","computed","headerStyle","backgroundImage","methods","back","name","checkValidation","alert","signup","axios","then","catch","Toggle","temp","temp2","document"],"sourceRoot":"src/views/Restaurateur","sources":["RestaurateurRegister.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\" >\r\n    <div class=\"section page-header header-filter\" :style=\"headerStyle\">\r\n      <div class=\"container\">\r\n        <div class=\"md-layout\">\r\n          <div \r\n            class=\"md-layout-item md-size-33 md-small-size-66 md-xsmall-size-100 md-medium-size-40 mx-auto\"\r\n          >\r\n            <login-card header-color=\"black\">\r\n              <h4 slot=\"title\" class=\"card-title\">Inscrivez-vous pour devenir un restaurateur</h4>\r\n              \r\n              <p slot=\"description\" class=\"description\">Ou</p>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>face</md-icon>\r\n                <label>Nom du restaurant</label>\r\n                <md-input name=\"userName\" v-model=\"user.userName\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>email</md-icon>\r\n                <label>E-mail</label>\r\n                <md-input v-model=\"user.email\" name=\"email\" type=\"email\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>lock_outline</md-icon>\r\n                <label>Mot de passe</label>\r\n                <md-input v-model=\"user.password\" type=\"password\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>lock_outline</md-icon>\r\n                <label>Confirmer votre mot de passe</label>\r\n                <md-input v-model=\"user.repeatPassword\" type=\"password\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>phone</md-icon>\r\n                <label>Numéro de téléphone</label>\r\n                <md-input v-model=\"user.Phone\" type=\"tel\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>credit_card</md-icon>\r\n                <label>Carte de crédit</label>\r\n                <md-input v-model=\"user.creditCard\" type=\"tel\" inputmode=\"numeric\" pattern=\"[0-9\\s]{13,19}\" \r\n                autocomplete=\"cc-number\" maxlength=\"19\" placeholder=\"xxxx xxxx xxxx xxxx\"></md-input>\r\n              </md-field>\r\n              <md-field class=\"md-form-group\" slot=\"inputs\">\r\n                <md-icon>house</md-icon>\r\n                <label>Adresse</label>\r\n                <md-input v-model=\"user.Address\" type=\"adress\"></md-input>\r\n              </md-field>\r\n              \r\n              <md-button v-on:click=\"signup\" slot=\"footer\" class=\"md-success\">\r\n                S'inscrire\r\n              </md-button>\r\n            </login-card>\r\n            <p class=\"text-center\" style=\"padding-top: 20px;\">\r\n            <router-link id=\"login\" to=\"/login\" style=\"font-weight: 900;color:lightgray;\">Vous êtes déjà un Restaurateur ? Se Connecter</router-link></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport { LoginCard } from \"@/components\";\r\nconst axios = require('axios');\r\nimport sqlApi from '@/services/sqlApi.js'\r\n\r\nexport default {\r\n  components: {\r\n    LoginCard\r\n  },\r\n  bodyClass: \"login-page\",\r\n  // Properties returned from data() becomes reactive state\r\n  // and will be exposed on `this`.\r\n data(){\r\n    return{\r\n       \r\n        user:{ \r\n         userId:0,\r\n         userName:\"\",\r\n         email: \"\",\r\n         password:\"\",\r\n         repeatPassword:\"\",\r\n         Phone:\"\",\r\n         Address:\"\",\r\n         creditCard:\"\",\r\n         user_type:\"Restorateur\"\r\n         },\r\n    }\r\n },\r\n props: {\r\n    header: {\r\n      type: String,\r\n      default: require(\"@/assets/img/bghome.jpg\")\r\n    }\r\n  },\r\n  computed: {\r\n    headerStyle() {\r\n      return {\r\n        backgroundImage: `url(${this.header})`\r\n      };\r\n    }\r\n  },\r\n methods : {    \r\n        back(){\r\n            this.$router.push({ name : 'home'});\r\n        },        \r\n        checkValidation(){\r\n            if(!this.user.userName){\r\n                alert(\"Veuillez entrer votre nom !\");\r\n                return;\r\n            }\r\n               if(!this.user.email){                    \r\n                alert(\"Veuillez entrer votre adresse mail !\");\r\n                return;\r\n            }\r\n             if(!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.user.email)){\r\n                alert(\"Veuillez enter une Adress mail valide !\");\r\n                return;\r\n            }\r\n              if(!this.user.password){                    \r\n                alert(\"Password required!\");\r\n                return;\r\n            }\r\n              if(this.user.password != this.user.repeatPassword){                    \r\n                alert(\"Les mots de passes ne correspondent pas  !\");\r\n                return;\r\n            }\r\n            return true;\r\n        },\r\n        signup(){\r\n            if(this.checkValidation()){\r\n                axios.post(this.$hostname +\"/api/user/registration\", this.user)\r\n                    .then(response => {\r\n                        if (response.data.userId > 0){\r\n                              this.$router.push({name:\"login\"});\r\n                            alert(\"Vous êtes maintenant inscrit(e)!\")\r\n                            .then(() => {\r\n\r\n                    \r\n                            });\r\n                        }else{\r\n                            alert(\"Error : Something went wrong.\");\r\n                        }\r\n                    })\r\n                    .catch(error=>{\r\n                        if (error.response){\r\n                            alert(error.response.data);\r\n                        }\r\n                    });\r\n            }\r\n        },\r\n        Toggle() {\r\n            var temp = document.getElementById(\"typepass\") ;\r\n            var temp2 = document.getElementById(\"typepass2\");\r\n            if (temp.type === \"password\" && temp2.type === \"password\") {\r\n                temp.type = \"text\";\r\n                temp2.type = \"text\";\r\n                document.getElementById(\"togglePassword\").className = \"bi bi-eye-slash\";\r\n            }\r\n            else {\r\n                temp.type = \"password\";\r\n                temp2.type = \"password\";\r\n                document.getElementById(\"togglePassword\").className = \"bi bi-eye\";\r\n            }\r\n        },\r\n },\r\n }\r\n</script>\r\n<style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}]}