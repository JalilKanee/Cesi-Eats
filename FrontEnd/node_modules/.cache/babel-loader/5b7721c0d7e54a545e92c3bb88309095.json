{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport OrderService from \"@/services/OrderService\"; // import JQuery from 'jquery'\n// window.$ = JQuery\n\nexport default {\n  name: \"Commande-list\",\n  data: function data() {\n    return {\n      Orders: [],\n      currentTutorial: null,\n      currentIndex: -1,\n      title: \"\"\n    };\n  },\n  methods: {\n    retrieveOrders: function retrieveOrders() {\n      var _this = this;\n\n      OrderService.getAcceptedRestaurantOrder(1).then(function (response) {\n        _this.Orders = response.data;\n        console.log(response.data);\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    DropOrder: function DropOrder(id) {\n      var _this2 = this;\n\n      OrderService.delete(id).then(function (response) {\n        console.log(response.data);\n\n        _this2.$router.go();\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    AcceptOrder: function AcceptOrder(id) {\n      var _this3 = this;\n\n      var data = {\n        state: 1,\n        id_livreur: 'testidlivreur'\n      };\n      OrderService.updateStateLivreurOrder(id, data).then(function (response) {\n        console.log(response.data);\n\n        _this3.$router.go();\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    AcquitOrder: function AcquitOrder(id) {\n      var _this4 = this;\n\n      var data = {\n        state: 2\n      };\n      OrderService.updateStateLivreurOrder(id, data).then(function (response) {\n        console.log(response.data);\n\n        _this4.$router.go();\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.retrieveOrders();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,mD,CAEA;AACA;;AAEA;EACAA,qBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,UADA;MAEAC,qBAFA;MAGAC,gBAHA;MAIAC;IAJA;EAMA,CATA;EAUAC;IACAC,cADA,4BACA;MAAA;;MACAC,2CACAC,IADA,CACA;QACA;QACAC;MACA,CAJA,EAKAC,KALA,CAKA;QACAD;MACA,CAPA;IAQA,CAVA;IAWAE,SAXA,qBAWAC,EAXA,EAWA;MAAA;;MACAL,wBACAC,IADA,CACA;QACAC;;QACA;MACA,CAJA,EAKAC,KALA,CAKA;QACAD;MACA,CAPA;IAQA,CApBA;IAqBAI,WArBA,uBAqBAD,EArBA,EAqBA;MAAA;;MACA;QACAE,QADA;QAEAC;MAFA;MAIAR,+CACAC,IADA,CACA;QACAC;;QACA;MACA,CAJA,EAKAC,KALA,CAKA;QACAD;MACA,CAPA;IAQA,CAlCA;IAmCAO,WAnCA,uBAmCAJ,EAnCA,EAmCA;MAAA;;MACA;QACAE;MADA;MAGAP,+CACAC,IADA,CACA;QACAC;;QACA;MACA,CAJA,EAKAC,KALA,CAKA;QACAD;MACA,CAPA;IAQA;EA/CA,CAVA;EA2DAQ,OA3DA,qBA2DA;IACA;EACA;AA7DA","names":["name","data","Orders","currentTutorial","currentIndex","title","methods","retrieveOrders","OrderService","then","console","catch","DropOrder","id","AcceptOrder","state","id_livreur","AcquitOrder","mounted"],"sourceRoot":"src/components/LivreurComponents","sources":["CommandeList.vue"],"sourcesContent":["<template>\r\n    <div class=\"bg-white\">\r\n        <div class=\"container mt-2 bg-white\">\r\n            <table class=\"table bg-light\">\r\n                <thead>\r\n                    <tr>\r\n                    <th scope=\"col\"># Numéro Commande</th>\r\n                    <th scope=\"col\">Product</th>\r\n                    <th scope=\"col\">Client</th>\r\n                    <th scope=\"col\">Restaurant</th>\r\n                    <th scope=\"col\">Action</th>\r\n                    <th scope=\"col\">Statut</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr :class=\"{ active: index == currentIndex }\"\r\n          v-for=\"(Order, index) in Orders\"\r\n          :key=\"index\">\r\n                    <td>{{Order._id}}</td>\r\n                      <td>\r\n                        <ul class=\"{ active: index == currentIndex }\"\r\n                        v-for=\"(id_article, index) in Order.ids_article\"\r\n                        :key=\"index\" >\r\n                          <li>{{id_article}}</li>\r\n                        </ul>\r\n                      </td>\r\n                    <td>{{Order.id_client}}</td>\r\n                    <td>{{Order.id_livreur}}</td>\r\n                      <td>\r\n                        <ul class=\"list-group\"> \r\n                          <li class=\"list-group-item\">\r\n                            <button  @click=\"DropOrder(Order._id)\" class=\"btn btn-sm btn-danger\"> Delete </button>\r\n                          </li>\r\n                          <li v-if=\"Order.statut_livreur == 0\" class=\"list-group-item\">\r\n                            <button @click=\"AcceptOrder(Order._id)\"  class=\"btn btn-sm btn-success\"> Prendre en charge </button>\r\n                          </li>\r\n                          <li v-if=\"Order.statut_livreur == 1 && Order.id_livreur =='testidlivreur'\" class=\"list-group-item\">\r\n                            <button  @click=\"AcquitOrder(Order._id)\" class=\"btn btn-sm btn-success\"> Acquitter  </button>\r\n                          </li>\r\n                          <li v-if=\"Order.statut_livreur == 1 && Order.id_livreur != 'testidlivreur'\" class=\"list-group-item\">\r\n                            <button disabled  class=\"btn btn-sm btn-secondary\"> Prise En Charge </button>\r\n                          </li>\r\n                        </ul>\r\n\r\n                      </td>\r\n                    <td>\r\n                      <li v-if=\"Order.statut_livreur == 0\" class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                      En Attente\r\n                      <span class=\"badge badge-primary badge-pill\"><i class=\"bi h4 bi-dot\"></i></span>\r\n                      </li>\r\n                       <li v-if=\"Order.statut_livreur == 1\" class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                        Prise en Charge\r\n                      <span class=\"badge badge-primary badge-pill\"><i class=\"bi h4 bi-dot\"></i></span>\r\n                      </li>\r\n                      <li v-if=\"Order.statut_livreur == 2\" class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                        Livrée\r\n                      <span class=\"badge badge-success badge-pill\"><i class=\"bi h4 bi-dot\"></i></span>\r\n                      </li>\r\n                    </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>    \r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport OrderService from \"@/services/OrderService\";\r\n\r\n// import JQuery from 'jquery'\r\n// window.$ = JQuery\r\n\r\nexport default {\r\n  name: \"Commande-list\",\r\n  data() {\r\n    return {\r\n      Orders: [],\r\n      currentTutorial: null,\r\n      currentIndex: -1,\r\n      title: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    retrieveOrders() {\r\n        OrderService.getAcceptedRestaurantOrder(1)\r\n        .then(response => {\r\n            this.Orders = response.data ;\r\n            console.log(response.data);\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        });\r\n    },\r\n    DropOrder(id){\r\n      OrderService.delete(id)\r\n      .then(response => {\r\n            console.log(response.data);\r\n            this.$router.go();\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        });\r\n    },\r\n  AcceptOrder(id){\r\n    var data = {\r\n        state : 1,\r\n        id_livreur : 'testidlivreur'\r\n      };\r\n    OrderService.updateStateLivreurOrder(id,data)\r\n    .then(response => {\r\n            console.log(response.data);\r\n            this.$router.go();\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n  },\r\n  AcquitOrder(id){\r\n    var data = {\r\n        state : 2,\r\n      };\r\n    OrderService.updateStateLivreurOrder(id,data)\r\n    .then(response => {\r\n            console.log(response.data);\r\n            this.$router.go();\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    }\r\n          },\r\n  mounted() {\r\n    this.retrieveOrders();\r\n  }\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}